storeSnippet({"id":25,"name":"jsonp()","description":"","js":"function jsonp(url, callback, opt_callbackParamName) {\r\n  var parent = document.getElementsByTagName('head')[0] || document.body;\r\n  var script = document.createElement('script');\r\n  var callbackName = '__jsonp';\r\n  do {\r\n    callbackName = (callbackName + Math.random()).replace('.', '');\r\n  } while (has(__global, callbackName));\r\n  var called;\r\n  __global[callbackName] = function() {\r\n    if (!called) {\r\n      called = 1;\r\n      delete __global[callbackName];\r\n      callback.apply(this, arguments);\r\n    }\r\n  };\r\n  script.src = (url + '&'\r\n    + encodeURIComponent(opt_callbackParamName || 'callback')\r\n    + '=' + callbackName).replace(\/(^[^\\?&]*)&\/, '$1?');\r\n  script.type = 'text\/JavaScript';\r\n  parent.appendChild(script);\r\n}","post":" ","required_ids":{},"tags":[],"variables":["jsonp"]});