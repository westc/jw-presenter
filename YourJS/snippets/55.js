storeSnippet({"id":55,"name":"check() - Object Validation","description":"","js":"function check(obj, criteria) {\r\n  if (typeOf(criteria, 'Function')) {\r\n    for (var k in obj) {\r\n      if (has(obj, k)) {\r\n        var v = obj[k];\r\n        var result = criteria(v, typeOf(v));\r\n        if (result !== true) {\r\n          return 'Property \"' + k + '\":  ' + result;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  else {\r\n    for (var k in criteria) {\r\n      if (has(criteria, k)) {\r\n        var v = criteria[k];\r\n        var vt = typeOf(v);\r\n        if (vt == 'String') {\r\n          if (!typeOf(obj[k], v)) {\r\n            return 'Property \"' + k + '\" was not of type ' + v + ' as expected';\r\n          }\r\n        }\r\n        else if (vt == 'Function') {\r\n          var result = v(obj[k], typeOf(obj[k]));\r\n          if (result !== true) {\r\n            return 'Property \"' + k + '\":  ' + result;\r\n          }\r\n        }\r\n        else {\r\n          if (!has(obj, k)) {\r\n            return 'Property \"' + k + '\" was expected but not found';\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  return true;\r\n}","post":" ","required_ids":{},"tags":[],"variables":["check"]});